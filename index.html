<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>English Vocab Quiz</title>
<style>
  body { font-family: Arial, sans-serif; background:#f7f8fb; color:#222; margin:0; padding:20px; }
  .app { max-width: 700px; margin: 0 auto; background:#fff; border-radius:12px; padding:24px; box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
  h1 { margin-top:0; }
  .card { background:#f1f5ff; border:1px solid #d9e2ff; padding:16px; border-radius:10px; }
  .choices { margin-top:12px; display:grid; gap:10px; }
  .choices button { padding:12px 14px; border:1px solid #e5e7eb; background:#fff; border-radius:10px; cursor:pointer; text-align:left; }
  .choices button.correct { border-color:#22c55e; background:#ecfdf5; }
  .choices button.wrong { border-color:#ef4444; background:#fef2f2; }
  .meta { display:flex; justify-content:space-between; align-items:center; margin-top:12px; color:#555; }
  .actions { margin-top:16px; display:flex; gap:12px; }
  .actions button { padding:10px 14px; border-radius:10px; border:none; cursor:pointer; }
  .primary { background:#3b82f6; color:#fff; }
  .secondary { background:#e5e7eb; }
  .hidden { display:none; }
  .progress { height:8px; background:#e5e7eb; border-radius:999px; overflow:hidden; margin:14px 0; }
  .bar { height:100%; width:0%; background:#3b82f6; transition: width 300ms; }
  .result { font-size:18px; }
</style>
</head>
<body>
  <div class="app">
    <h1>English Vocabulary Quiz</h1>
    <div class="progress"><div id="bar" class="bar"></div></div>
    <div id="card" class="card">
      <div id="question">Loading...</div>
      <div id="choices" class="choices"></div>
      <div class="meta">
        <div>Score: <strong id="score">0</strong></div>
        <div id="message"></div>
      </div>
    </div>
    <div class="actions">
      <button id="nextBtn" class="primary">Next ▶</button>
      <button id="restartBtn" class="secondary">Restart ↻</button>
    </div>
    <p class="result hidden" id="result"></p>
  </div>

<script>
const data = [
  { term: "abundant",     definition: "existing in large quantities; more than enough" },
  { term: "accurate",     definition: "correct and without any mistakes" },
  { term: "benevolent",   definition: "kind and helpful" },
  { term: "concise",      definition: "expressing what needs to be said in few words" },
  { term: "diligent",     definition: "careful and using a lot of effort" },
  { term: "emerge",       definition: "to become known or come to the fore" },
  { term: "feasible",     definition: "able to be made, done, or achieved" },
  { term: "humble",       definition: "not proud or not believing you are important" },
  { term: "innovative",   definition: "using new methods or ideas" },
  { term: "justify",      definition: "to give or be a good reason for" }
];

// Generate multiple-choice questions (ask for definition of term)
const questions = data.map(item => {
  const correct = item.definition;
  // pick 3 other random definitions as distractors
  const pool = data.filter(d => d.definition !== correct).map(d => d.definition);
  shuffle(pool);
  const choices = [correct, ...pool.slice(0,3)];
  shuffle(choices);
  return {
    prompt: `What does "${item.term}" mean?`,
    choices,
    answer: correct
  };
});

let idx = 0;
let score = 0;
let locked = false;

const questionEl = document.getElementById('question');
const choicesEl  = document.getElementById('choices');
const scoreEl    = document.getElementById('score');
const messageEl  = document.getElementById('message');
const nextBtn    = document.getElementById('nextBtn');
const restartBtn = document.getElementById('restartBtn');
const resultEl   = document.getElementById('result');
const barEl      = document.getElementById('bar');

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random()* (i+1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function updateProgress() {
  const percent = Math.round(((idx) / questions.length) * 100);
  barEl.style.width = percent + '%';
}

function render() {
  updateProgress();
  resultEl.classList.add('hidden');
  const q = questions[idx];
  questionEl.textContent = q.prompt;
  choicesEl.innerHTML = '';
  messageEl.textContent = '';
  locked = false;

  q.choices.forEach(choice => {
    const btn = document.createElement('button');
    btn.textContent = choice;
    btn.onclick = () => {
      if (locked) return;
      locked = true;
      const correct = choice === q.answer;
      btn.classList.add(correct ? 'correct' : 'wrong');
      if (correct) {
        score += 1;
        scoreEl.textContent = score;
        messageEl.textContent = 'Correct!';
      } else {
        messageEl.textContent = 'Oops! Correct answer shown in green.';
        // highlight correct choice
        Array.from(choicesEl.children).forEach(b => {
          if (b.textContent === q.answer) b.classList.add('correct');
        });
      }
    };
    choicesEl.appendChild(btn);
  });
}

nextBtn.onclick = () => {
  if (idx < questions.length - 1) {
    idx += 1;
    render();
  } else {
    barEl.style.width = '100%';
    const pct = Math.round((score / questions.length) * 100);
    resultEl.textContent = `Finished! Score: ${score}/${questions.length} (${pct}%).`;
    resultEl.classList.remove('hidden');
  }
};

restartBtn.onclick = () => {
  shuffle(questions);
  idx = 0;
  score = 0;
  scoreEl.textContent = score;
  render();
};

shuffle(questions);
render();
</script>
</body>
</html>
